{"version":3,"sources":["store/findTickets/reducers.ts","helpers/bem.ts","components/ui/forms/Button/Button.tsx","pages/DoNotTouchThis/DoNotTouchThis.tsx","components/PlaneLogo/PlaneLogo.tsx","helpers/misc.ts","store/findTickets/actions.ts","store/findTickets/helpers.ts","store/findTickets/selectors.ts","pages/FindTickets/PlaneLogo/PlaneLogoContainer.tsx","components/ui/Layout/Layout.tsx","assets/icons/check.svg","components/ui/common/Duration/Duration.tsx","components/ui/forms/Checkbox/Checkbox.tsx","components/ui/forms/FiltersSection/FiltersSection.tsx","pages/FindTickets/Sidebar/Sidebar.tsx","pages/FindTickets/Sidebar/SidebarContainer.ts","components/ui/common/Price/Price.tsx","store/common/selectors.ts","components/ui/common/Price/PriceContainer.tsx","api/config.ts","helpers/fetch.ts","normalizers/ticketNormalizers.ts","api/ticketApi.ts","helpers/formatters.ts","components/Ticket/Ticket.tsx","components/ui/common/FadeIn/FadeIn.tsx","pages/FindTickets/TicketsList/TicketsList.tsx","components/ui/common/Error/Error.tsx","hoc/withData.tsx","pages/FindTickets/TicketsList/TicketListContainer.tsx","components/ui/forms/ButtonGroup/ButtonGroup.tsx","pages/FindTickets/SortTabs/SortTabs.tsx","pages/FindTickets/SortTabs/SortTabsContainer.ts","pages/FindTickets/FindTickets.tsx","App.tsx","store/common/reducers.ts","store/common/index.ts","store/findTickets/index.ts","store/findTickets/sagas.ts","store/root.ts","store/index.ts","translations/ru-RU.ts","services/translation.ts","services/moment.ts","initialize.ts","serviceWorker.ts","index.tsx"],"names":["ETicketsSortBy","makeBEMModifier","base","modifier","getButtonClassName","type","size","isLoading","block","isDisabled","modifiers","push","baseClass","isActive","mix","result","length","makeModifier","bind","filter","map","join","makeBemClassNames","Button","div","a","text","children","props","className","Tag","WTF","to","PlaneLogo","animated","animate","scale","rotate","transition","duration","loop","Infinity","x","y","orderedArray","count","Array","from","keys","joinArrays","array1","array2","uniqArrayItems","array","Set","arraysAreSame","i","fetchTicketsRequest","createAction","clearFindTickets","INITIAL_STATE","statuses","isFetching","isError","tickets","sortBy","price","filters","transfers","available","selected","pagination","offset","limit","getClearableExtraReducer","initialValue","createSlice","name","initialState","reducers","setSelected","state","action","payload","setAvailable","extraReducers","select","add","setError","setFetching","accumulateDuration","segments","reduce","accumulate","getTransfersCounts","ticket","stops","getAvailableTransfers","availableTransfersSet","forEach","sort","getFetchingStatuses","findTickets","getFilters","getSortBy","getTicketsListSorted","createSelector","slice","b","getFinalTicketList","isAllSelected","isNothingSelected","filtered","allStops","stopCount","includes","connect","Layout","Sidebar","_extends","Object","assign","target","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","EFormatFrom","createElement","d","_ref","svgRef","title","width","height","viewBox","fill","ref","ForwardRef","forwardRef","Checkbox","onChange","checked","FiltersSection","CheckboxFilter","onToggle","option","nextProps","nextState","nextContext","translation","React","Component","setSelectedTransfersOptions","useTranslation","t","item","dispatch","bindActionCreators","actions","Price","value","currency","formatted","toLocaleString","format","symbol","getCurrency","common","getLocale","locale","config","gateWays","searchKey","fetchJSON","path","async","fetch","response","ok","json","status","Promise","reject","normalizeTicket","rest","id","v4","normalizeTicketSegment","segment","KEY_PATH","TICKETS_PATH","fetchTicketsSearchId","searchId","console","warn","fetchTickets","stop","formatFromTo","arr","formatDurationFromMinutes","minutes","restMinutes","hours","restHours","days","formatDurationInHours","Duration","TicketSegment","date","destination","origin","label","moment","getRangeFromDateAndDuration","TicketSegmentItem","TLoading","TicketLoading","Ticket","carrierCode","alt","src","carrier","FadeIn","additional","initialX","opacity","initial","Loading","TicketsNotFound","TicketsList","showPreloader","showNotFound","showList","Error","Reload","reload","onClick","withData","reset","childProps","ButtonGroup","SortTabs","selectSortBy","sortByPriceIsActive","FindTickets","App","exact","combineReducers","reducer","pollTickets","getTickets","ADD_TICKETS_THROTTLE_TIME","getTimestamp","Date","put","availableTransfers","ticketsBuffer","lastTimeTicketsHaveBeenAdded","data","newAvailableTransfers","take","fork","poll","cancel","rootSaga","rootReducer","sagaMiddleware","createSagaMiddleware","middlewares","thunk","enhancer","applyMiddleware","store","createStore","run","tabs","all","labelZero","label_0","label_1","label_2","notFound","labels","time","daysShort","hoursShort","minutesShort","commonMessages","error","i18n","use","initReactI18next","init","resources","ruTranslation","lng","fallbackLng","interpolation","escapeValue","translationService","momentService","setLocale","initLocale","Boolean","window","location","hostname","match","render","ReactDOM","document","getElementById","getState","subscribe","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.fbf0f9a9.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\nimport { orderedArray } from '../../helpers/misc'\nimport { clearFindTickets } from './actions'\n\nexport enum ETicketsSortBy { price, duration }\n\nexport const INITIAL_STATE: IFindTicketsState = {\n  statuses: {\n    isFetching: false,\n    isError: false,\n  },\n\n  tickets: [],\n\n  sortBy: ETicketsSortBy.price,\n\n  filters: {\n    transfers: {\n      available: orderedArray(2),\n      selected: orderedArray(2),\n    }\n  },\n\n  pagination: {\n    offset: 0,\n    limit: 5,\n  },\n}\n\nconst getClearableExtraReducer = <T>(initialValue: T) => ({\n  [clearFindTickets.type]: () => initialValue\n})\n\nexport const transfers = createSlice({\n  name: 'tickets/filters/transfers',\n  initialState: INITIAL_STATE.filters.transfers,\n  reducers: {\n    setSelected: (state, action) => ({\n      ...state,\n      selected: action.payload,\n    }),\n\n    setAvailable: (state, action) => {\n      const\n        { selected, available } = state,\n        isAllOptionsSelected = selected.length === available.length\n\n      return {\n        selected: isAllOptionsSelected ? [...action.payload] : selected,\n        available: action.payload,\n      }\n    }\n  },\n  extraReducers: {\n    ...getClearableExtraReducer(INITIAL_STATE.filters.transfers)\n  }\n})\n\nexport const sortBy = createSlice({\n  name: 'tickets/sortBy',\n  initialState: INITIAL_STATE.sortBy as ETicketsSortBy,\n  reducers: {\n    select: (state, action: TActionSortBy) => action.payload,\n  },\n  extraReducers: {\n    ...getClearableExtraReducer(INITIAL_STATE.sortBy)\n  }\n})\n\nexport const tickets = createSlice({\n  name: 'tickets/list',\n  initialState: INITIAL_STATE.tickets as ITicket[],\n  reducers: {\n    add: (state, action) => [...state, ...action.payload],\n  },\n  extraReducers: {\n    ...getClearableExtraReducer(INITIAL_STATE.tickets)\n  }\n})\n\nexport const statuses = createSlice({\n  name: 'tickets/statuses',\n  initialState: INITIAL_STATE.statuses as IFetchingStatuses,\n  reducers: {\n    setError: (state, action) => ({ ...state, isError: action.payload }),\n    setFetching: (state, action) => ({ isError: false, isFetching: action.payload })\n  },\n  extraReducers: {\n    ...getClearableExtraReducer(INITIAL_STATE.statuses)\n  }\n})\n\nexport const pagination = createSlice({\n  name: 'tickets/pagination',\n  initialState: INITIAL_STATE.pagination as IPagination,\n  reducers: {},\n  extraReducers: {\n    ...getClearableExtraReducer(INITIAL_STATE.pagination)\n  }\n})\n\n","export const makeBEMModifier = (base: string, modifier: string): string => modifier ? `${base}--${modifier}` : ''\n\nexport interface IBEMProps {\n  isLoading?: boolean\n  isDisabled?: boolean\n  isActive?: boolean\n  modifiers?: string[]\n  mix?: string[]\n}\n\nexport const makeBemClassNames = (\n  baseClass: string,\n  { isLoading, isActive, isDisabled, modifiers = [], mix = [] }: IBEMProps\n): string => {\n  const result = [baseClass]\n\n  if (isActive) result.push('is-active')\n  if (isLoading) result.push('is-loading')\n  if (isDisabled) result.push('is-disabled')\n\n  if (modifiers.length) {\n    const makeModifier = makeBEMModifier.bind(null, baseClass)\n\n    result.push(...modifiers.filter(modifier => modifier).map(makeModifier))\n  }\n\n  if (mix.length) {\n    result.push(...mix)\n  }\n\n  return result.join(' ')\n}\n","import React from 'react'\nimport './Button.scss'\nimport { makeBemClassNames } from '../../../../helpers/bem'\n\ninterface ButtonClassProps {\n  type?: string\n  isLoading?: boolean\n  isDisabled?: boolean\n  size?: string\n  block?: boolean\n}\n\ninterface IProps extends ButtonClassProps {\n  text?: string\n  div?: boolean\n  a?: boolean\n  href?: string\n  target?: string\n  onClick?: (e: React.MouseEvent) => any\n}\n\nconst BASE_CLASS_NAME = 'btn'\n\nconst Button: React.FC<IProps> =\n  ({ div, a, type = 'primary', size, isLoading, isDisabled, block, text, children, ...props }) => {\n    const\n      className = getButtonClassName({ type, size, isLoading, isDisabled, block }),\n      Tag = div ? 'div' : a ? 'a' : 'button'\n\n    return (\n      <Tag className={className} {...props}>\n        {text}\n        {children}\n      </Tag>\n    )\n  }\n\nexport const getButtonClassName = ({ type, size, isLoading, block, isDisabled }: ButtonClassProps) => {\n  const modifiers = []\n\n  if (type) modifiers.push(type)\n  if (size) modifiers.push(size)\n  if (block) modifiers.push('block')\n\n  return makeBemClassNames(BASE_CLASS_NAME, { isLoading, isDisabled, modifiers },)\n}\n\nexport default Button\n","import React from 'react'\nimport './DoNotTouchThis.scss'\nimport Button from '../../components/ui/forms/Button'\nimport { Link } from 'react-router-dom'\n\nconst WTF: React.FC = () => (\n  <div className='do-not-touch-this'>\n    <div className='do-not-touch__d'></div>\n    <div className='do-not-touch__o'></div>\n    <div className='do-not-touch__n'></div>\n    <div className='do-not-touch__o'></div>\n    <div className='do-not-touch__t'></div>\n    <div className='do-not-touch__t'></div>\n    <div className='do-not-touch__o'></div>\n    <div className='do-not-touch__u'>\n      <Link to='/' className='yo-btn-wrap'>\n        <Button size='lg' div type='secondary'>Уйти</Button>\n      </Link>\n    </div>\n    <div className='do-not-touch__c'></div>\n    <div className='do-not-touch__h'></div>\n    <div className='do-not-touch__t'></div>\n    <div className='do-not-touch__h'></div>\n    <div className='do-not-touch__i'></div>\n    <div className='do-not-touch__s'></div>\n  </div>\n)\n\nexport default WTF\n","import React from 'react'\nimport './PlaneLogo.scss'\nimport { motion } from 'framer-motion'\n\nexport interface IProps {\n  animated: boolean\n}\n\nconst PlaneLogo: React.FC<IProps> = ({ animated = false }) => {\n  return (\n    <div className='plane-logo'>\n      <motion.div\n        className='plane-logo__earth'\n        animate={\n          animated ? {\n            scale: [1, 1.1, 1, 1.1, 1], rotate: [0, 180],\n          } : {\n            scale: 1, rotate: 0\n          }\n        }\n        transition={\n          animated ? {\n            duration: 2, loop: Infinity\n          } : {\n            duration: .5, loop: 0\n          }\n        }\n      />\n\n      <div className='plane-logo__plane-wrap'>\n        <motion.div\n          className='plane-logo__plane'\n          animate={\n            animated ? {\n              scale: [1, .8, .8, 1], rotate: [0, -1, 0, -1, 0], x: [0, -1, 0, 1, 0], y: [0, 1, 0, -1, 0]\n            } : {\n              scale: 1, rotate: 0, x: 0, y: 0\n            }\n          }\n          transition={\n            animated ? {\n              duration: 4, loop: Infinity\n            } : {\n              duration: .5, loop: 0\n            }\n          }\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default PlaneLogo\n\n","export const orderedArray = (count: number): number[] => Array.from(Array(count < 0 ? 0 : count).keys())\n\nexport const toggleInArray = <T>(array: T[], item: T): T[] => {\n  return array.includes(item) ? array.filter(a => item !== a) : [...array, item]\n}\n\nexport const joinArrays = <T>(array1: T[], array2: T[]): T[] => {\n  return [...array1, ...array2]\n}\n\nexport const uniqArrayItems = <T>(array: T[]) => {\n  return Array.from(new Set<T>(array))\n}\n\nexport const arraysAreSame = <T>(array1: T[], array2: T[]): boolean => {\n  if (array1.length !== array2.length) return false\n\n  for (let i = 0; i < array1.length; i++) {\n    if (array1[i] !== array2[i]) return false\n  }\n\n  return true\n}\n","import { createAction } from '@reduxjs/toolkit'\n\nexport const fetchTicketsRequest = createAction(`TICKETS_FETCH_REQUESTED`)\n\nexport const clearFindTickets = createAction(`TICKETS_CLEAR`)\n","import { ETicketsSortBy } from './reducers'\nimport { arraysAreSame } from '../../helpers/misc'\n\nexport const accumulateDuration = (segments: ITicketSegment[]): number => {\n  return segments.reduce((accumulate, { duration }) => accumulate + duration, 0)\n}\n\nexport const sortTickets = (tickets: ITicket[], sortBy: ETicketsSortBy) => {\n  if (sortBy === ETicketsSortBy.duration) {\n    return tickets.slice().sort((a, b) => accumulateDuration(a.segments) - accumulateDuration(b.segments))\n  } else if (sortBy === ETicketsSortBy.price) {\n    return tickets.slice().sort((a, b) => a.price - b.price)\n  } else {\n    return tickets\n  }\n}\n\nexport const getTransfersCounts = (ticket: ITicket): number[] => ticket.segments.map(({ stops }) => stops.length)\n\nexport const filterTicketsWithPagination = (tickets: ITicket[], { transfers }: ITicketFiltersState, { offset, limit }: IPagination) => {\n  const\n    isAllSelected = arraysAreSame(transfers.selected, transfers.available),\n    isNothingSelected = !transfers.selected.length,\n    filtered: ITicket[] = []\n\n  if (isAllSelected) return tickets.slice(offset, offset + limit)\n  if (isNothingSelected) return []\n\n  for (let i = 0; i < tickets.length && filtered.length < offset + limit; i++) {\n    const\n      ticket = tickets[i],\n      allStops = getTransfersCounts(ticket)\n\n    let count = 0\n\n    allStops.forEach(stopCount => transfers.selected.includes(stopCount) && count++)\n\n    if (count === allStops.length) filtered.push(ticket)\n  }\n\n  return filtered.slice(offset)\n}\n\nexport const getAvailableTransfers = (tickets: ITicket[]): number[] => {\n  const availableTransfersSet = tickets.reduce((result, ticket) => {\n    getTransfersCounts(ticket).forEach(result.add.bind(result))\n    return result\n  }, new Set<number>())\n\n  return Array.from(availableTransfersSet).sort()\n}\n","import { createSelector } from '@reduxjs/toolkit'\nimport { IState } from '../root'\nimport { filterTicketsWithPagination, sortTickets } from './helpers'\n\n/** simple selectors */\nexport const getFetchingStatuses = (state: IState): IFetchingStatuses => state.findTickets.statuses\nexport const getFilters = (state: IState): ITicketFiltersState => state.findTickets.filters\nexport const getSortBy = (state: IState): number => state.findTickets.sortBy\nexport const getPagination = (state: IState): IPagination => state.findTickets.pagination\nexport const getAllTicketsList = (state: IState): ITicket[] => state.findTickets.tickets\n\n/** reselect */\nexport const getTicketsListSorted = createSelector<IState, ITicket[], TTicketsSortByState, ITicket[]>(\n  getAllTicketsList,\n  getSortBy,\n  sortTickets,\n)\n\nexport const getFinalTicketList = createSelector<IState, ITicket[], ITicketFiltersState, IPagination, ITicket[]>(\n  getTicketsListSorted,\n  getFilters,\n  getPagination,\n  filterTicketsWithPagination,\n)\n","import { connect } from 'react-redux'\nimport PlaneLogo, { IProps } from '../../../components/PlaneLogo/PlaneLogo'\nimport { IState } from '../../../store/root'\nimport { getFetchingStatuses } from '../../../store/findTickets/selectors'\n\ntype TStateProps = IProps;\n\nconst mapStateToProps = (state: IState): TStateProps => ({\n  animated: getFetchingStatuses(state).isFetching,\n})\n\nexport default connect(mapStateToProps)(PlaneLogo)\n","import React from 'react'\nimport './Layout.scss'\n\ninterface IProps {\n  Sidebar?: React.ComponentType\n}\n\nconst Layout: React.FC<IProps> = ({ Sidebar, children }) => (\n  <div className='layout'>\n    {Sidebar && (\n      <div className='layout__sidebar'>\n        <Sidebar/>\n      </div>\n    )}\n\n    <div className='layout__main'>\n      {children}\n    </div>\n  </div>\n)\n\nexport default Layout\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M4.28571 8L0 4.16123L1.20857 3.0787L4.28571 5.82726L10.7914 0L12 1.09021L4.28571 8Z\"\n});\n\nvar SvgCheck = function SvgCheck(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 8,\n    viewBox: \"0 0 12 8\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgCheck, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/check.b73f59a3.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\nimport { formatDurationFromMinutes, TDurationParsed } from '../../../../helpers/formatters'\nimport { useTranslation } from 'react-i18next'\n\nexport enum EFormatFrom { minutes }\n\ninterface IProps {\n  from?: EFormatFrom,\n  duration: number\n}\n\ninterface IFormatArgs {\n  from: EFormatFrom,\n  duration: number,\n  t: (key: string) => string\n}\n\nconst format = ({ duration, t, from }: IFormatArgs): string => {\n  let formatter\n\n  if (from === EFormatFrom.minutes) {\n    formatter = formatDurationFromMinutes\n  } else {\n    //todo: add another formatter according to the 'from' attribute\n    formatter = formatDurationFromMinutes\n  }\n\n  const\n    { days, hours, minutes }: TDurationParsed = formatter(duration),\n    result: string[] = []\n\n  if (days) {\n    result.push(`${days}${t('labels.time.daysShort')}`)}\n\n\n  if (hours || days) {\n    result.push(`${hours}${t('labels.time.hoursShort')}`)\n  }\n\n  if (minutes || hours) {\n    result.push(`${minutes}${t('labels.time.minutesShort')}`)\n  }\n\n  return result.join(' ')\n}\n\nconst Duration: React.FC<IProps> = ({ from = EFormatFrom.minutes, duration }) => {\n  const [t] = useTranslation()\n\n  return <>{format({ duration, t, from })}</>\n}\n\nexport default Duration\n","import React from 'react'\nimport { ReactComponent as ICheck } from '../../../../assets/icons/check.svg'\nimport './Checkbox.scss'\n\nconst Checkbox: React.FC<React.InputHTMLAttributes<HTMLInputElement>> =\n  ({ children, onChange, type = 'checkbox', checked = false }) => {\n    return (\n      <label className='checkbox'>\n        <input type={type} onChange={onChange} checked={checked}/>\n        <span className='checkbox__icon'><ICheck/></span>\n\n        <span className='checkbox__label'>\n        {children}\n      </span>\n      </label>\n    )\n  }\n\nexport default Checkbox\n","import React from 'react'\nimport './FiltersSection.scss'\n\ninterface IProps {\n  title: string\n}\n\nconst FiltersSection: React.FC<IProps> = ({ title, children }) => (\n  <div className='filters-section'>\n    <div className='filters-section__title'>\n      {title}\n    </div>\n    <div className='filters-section__body'>\n      {children}\n    </div>\n  </div>\n)\n\nexport default FiltersSection\n","import React from 'react'\nimport Checkbox from '../../../components/ui/forms/Checkbox'\nimport FiltersSection from '../../../components/ui/forms/FiltersSection'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { toggleInArray } from '../../../helpers/misc'\n\nexport interface IProps {\n  setSelectedTransfersOptions: (options: number[]) => TActionFilterTransfers,\n  filters: ITicketFiltersState\n}\n\nconst Sidebar: React.FC<IProps> = ({ setSelectedTransfersOptions, filters }) => {\n  const\n    [t] = useTranslation(),\n    { selected, available } = filters.transfers,\n    isAllSelected = available.length === selected.length,\n\n    onToggleAll = () => setSelectedTransfersOptions(selected.length && isAllSelected ? [] : [...available]),\n    onToggle = (option: number) => setSelectedTransfersOptions(toggleInArray(selected, option))\n\n  return (\n    <FiltersSection title='Количество пересадок'>\n      <Checkbox\n        checked={isAllSelected}\n        onChange={onToggleAll}\n      >\n        {t('findTickets.transfers.all')}\n      </Checkbox>\n\n      {\n        available.map(option => (\n          <CheckboxFilter\n            key={option}\n            option={option}\n            checked={selected.includes(option)}\n            onToggle={onToggle}\n          />\n        ))\n      }\n    </FiltersSection>\n  )\n}\n\ninterface IFilterCheckBoxProps {\n  option: number\n  checked: boolean\n\n  onToggle(value: number): void\n}\n\nclass CheckboxFilter extends React.Component<IFilterCheckBoxProps> {\n  onChange = () => this.props.onToggle(this.props.option)\n\n  shouldComponentUpdate(nextProps: Readonly<IFilterCheckBoxProps>, nextState: Readonly<{}>, nextContext: any): boolean {\n    return this.props.checked !== nextProps.checked\n  }\n\n  render() {\n    const\n      { option, checked } = this.props,\n      translation = `findTickets.transfers.label${option === 0 ? 'Zero' : ''}`\n\n    return (\n      <Checkbox\n        key={option}\n        checked={checked}\n        onChange={this.onChange}\n      >\n        <Trans count={option}>{translation}</Trans>\n      </Checkbox>\n    )\n  }\n}\n\nexport default Sidebar\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { ThunkDispatch } from 'redux-thunk'\nimport { IState } from '../../../store/root'\nimport { getFilters } from '../../../store/findTickets/selectors'\nimport Sidebar, { IProps } from './Sidebar'\nimport { transfers } from '../../../store/findTickets/reducers'\n\ntype TStateProps = Pick<IProps, 'filters'>;\ntype TDispatchProps = Pick<IProps, 'setSelectedTransfersOptions'>\n\nconst mapStateToProps = (state: IState): TStateProps => ({\n  filters: getFilters(state)\n})\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<IState, {}, TAppAnyAction>): TDispatchProps => ({\n  setSelectedTransfersOptions: bindActionCreators(transfers.actions.setSelected, dispatch),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidebar)\n","import React from 'react'\n\nexport interface IProps {\n  value: number\n  currency: TCurrency\n}\n\nconst format = (value: number): string => value.toLocaleString()\n\nconst Price: React.FC<IProps> = ({ value, currency }) => {\n  const\n    formatted = format(value),\n    symbol = currency.symbol\n\n  if (currency.name === 'USD') return (\n    <>{`${symbol}${formatted}`}</>\n  )\n\n  return (\n    <>{`${formatted} ${symbol}`}</>\n  )\n}\n\nexport default Price\n","import { IState } from '../root'\n\nexport const getCurrency = (state: IState): TCurrency => state.common.currency\nexport const getLocale = (state: IState): TLocale => state.common.locale\n","import { connect } from 'react-redux'\nimport Price from './Price'\nimport { getCurrency } from '../../../../store/common/selectors'\nimport { IState } from '../../../../store/root'\n\nconst mapStateToProps = (state: IState) => ({\n  currency: getCurrency(state)\n})\n\nexport default connect(mapStateToProps)(Price)\n","const config = {\n  base: 'https://front-test.beta.aviasales.ru',\n\n  gateWays: {\n    searchKey: '/search',\n    tickets: '/tickets',\n  }\n}\n\nexport default config\n","export const fetchJSON = async (path: string) => {\n  const response = await fetch(path)\n\n  if (response.ok) {\n    return response.json()\n  } else {\n    const\n      status = response.status,\n      text = await response.text()\n\n    return Promise.reject(`${path} ${status}: ${text}`)\n  }\n}\n","import { v4 } from 'uuid'\n\nexport const normalizeTicket = (ticket: IRawTicket): ITicket => {\n  const { segments, ...rest } = ticket\n\n  return {\n    id: v4(),\n    segments: ticket.segments.map(normalizeTicketSegment),\n    ...rest\n  }\n}\n\nexport const normalizeTicketSegment = (segment: IRawTicketSegment): ITicketSegment => ({\n  id: v4(),\n  ...segment,\n})\n","import config from './config'\nimport { fetchJSON } from '../helpers/fetch'\nimport { normalizeTicket } from '../normalizers/ticketNormalizers'\n\nconst\n  KEY_PATH = config.base + config.gateWays.searchKey,\n  TICKETS_PATH = config.base + config.gateWays.tickets\n\nexport const fetchTicketsSearchId = async () => {\n  try {\n    const { searchId } = await fetchJSON(KEY_PATH)\n\n    return searchId\n  } catch (error) {\n    console.warn(error)\n    return null\n  }\n}\n\nexport const fetchTickets = async (searchId: string) => {\n  const\n    path = `${TICKETS_PATH}?searchId=${searchId}`\n\n  try {\n    const result = await fetchJSON(path)\n\n    return {\n      stop: result.stop,\n      tickets: result.tickets.map(normalizeTicket)\n    }\n  } catch (error) {\n    console.warn(error)\n\n    return null;\n  }\n}\n\nexport const getImage = (carrierCode: string) => `//pics.avs.io/99/36/${carrierCode}.png`\n","export const formatFromTo = (arr: Array<string | number>): string => arr.join(' - ')\n\nexport type TDurationParsed = {\n  days?: number\n  hours?: number\n  minutes?: number\n}\n\nexport const formatDurationInHours = (hours: number): TDurationParsed => {\n  const\n    restHours = hours % 24,\n    days = (hours - restHours) / 24\n\n  return {\n    days,\n    hours: restHours,\n  }\n}\n\nexport const formatDurationFromMinutes = (minutes: number): TDurationParsed => {\n  const\n    restMinutes = minutes % 60,\n    hours = (minutes - restMinutes) / 60\n\n  return {\n    ...formatDurationInHours(hours),\n    minutes: restMinutes,\n  }\n}\n","import React from 'react'\nimport { LazyLoadImage } from 'react-lazy-load-image-component'\nimport moment from 'moment'\nimport { useTranslation } from 'react-i18next'\nimport Price from '../ui/common/Price'\nimport { getImage } from '../../api/ticketApi'\nimport { formatFromTo } from '../../helpers/formatters'\nimport Duration from '../ui/common/Duration'\nimport './Ticket.scss'\n\ninterface IProps {\n  ticket: ITicket\n}\n\nconst\n  getRangeFromDateAndDuration = (date: string, duration: number): string => formatFromTo([\n    moment(date).format('LT'),\n    moment(date).add(duration, 'minutes').format('LT'),\n  ])\n\nconst Ticket: React.FC<IProps> = ({ ticket }) => {\n  return (\n    <div className='ticket'>\n      <div className='ticket__header'>\n        <div className='row row--center'>\n          <div className='col-xs-8'>\n            <div className='ticket-price'><Price value={ticket.price}/></div>\n          </div>\n          <div className='col-xs-4'>\n            <div className='ticket-company-logo'>\n              <LazyLoadImage\n                alt=''\n                src={getImage(ticket.carrier)} // use normal <img> attributes as props\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className='ticket__body'>\n        <div className='ticket-segments'>\n          {ticket.segments.map((segment) => (\n            <TicketSegment key={segment.id} {...segment}/>\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport const TicketSegment: React.FC<ITicketSegment> = ({ date, destination, duration, origin, stops }) => {\n  const [t] = useTranslation()\n\n  return (\n    <div className='ticket-segment row'>\n      <div className='col-xs-4'>\n        <TicketSegmentItem label={formatFromTo([origin, destination])}>\n          {getRangeFromDateAndDuration(date, duration)}\n        </TicketSegmentItem>\n      </div>\n      <div className='col-xs-4'>\n        <TicketSegmentItem label={t('tickets.duration')}>\n          <Duration duration={duration}/>\n        </TicketSegmentItem>\n      </div>\n      <div className='col-xs-4'>\n        {!stops.length ? (\n          <TicketSegmentItem label={t('findTickets.transfers.labelZero')}/>\n        ) : (\n          <TicketSegmentItem label={t('findTickets.transfers.label', { count: stops.length })}>\n            {formatFromTo(stops)}\n          </TicketSegmentItem>\n        )}\n      </div>\n    </div>\n  )\n}\n\ninterface ISegmentItemProps {\n  label: string\n}\n\nexport const TicketSegmentItem: React.FC<ISegmentItemProps> = ({ label, children }) => (\n  <div className='ticket-segment-item'>\n    <div className='ticket-segment-item__label'>{label}</div>\n    <div className='ticket-segment-item__value'>{children}</div>\n  </div>\n)\n\nconst TLoading: React.FC = () => <div className='ticket-loading animated-background-loading'/>\n\nexport const TicketLoading: React.FC = () => (\n  <div className='ticket'>\n    <div className='ticket__header'>\n      <div className='row row--center'>\n        <div className='col-xs-8'><TLoading/></div>\n        <div className='col-xs-4'><TLoading/></div>\n      </div>\n    </div>\n    <div className='ticket__body'>\n      <div className='ticket-segments'>\n        <div className='ticket-segment row'>\n          <div className='col-xs-4'><TLoading/><TLoading/></div>\n          <div className='col-xs-4'><TLoading/><TLoading/></div>\n          <div className='col-xs-4'><TLoading/><TLoading/></div>\n        </div>\n      </div>\n    </div>\n  </div>\n)\n\nexport default Ticket\n","import React from 'react'\nimport { motion } from 'framer-motion'\n\ninterface IProps {\n  className?: string\n  duration?: number\n  initialX?: number\n}\n\nconst FadeIn: React.FC<IProps> = ({ duration = .2, children, className, initialX }) => {\n  const additional = {\n    x: [initialX || 0, 0]\n  }\n\n  return (\n    <motion.div\n      animate={{ opacity: [0, 1], ...additional }}\n      initial={{ opacity: 0 }}\n      transition={{ duration }}\n      className={className}\n    >\n      {children}\n    </motion.div>\n  )\n}\n\nexport default FadeIn\n","import React from 'react'\nimport Ticket, { TicketLoading } from '../../../components/Ticket/Ticket'\nimport FadeIn from '../../../components/ui/common/FadeIn'\nimport { useTranslation } from 'react-i18next'\n\nexport interface IProps {\n  statuses: IFetchingStatuses,\n  tickets: ITicket[]\n}\n\nconst TicketsList: React.FC<IProps> = ({ statuses, tickets }) => {\n  const\n    showPreloader = statuses.isFetching && !tickets.length,\n    showNotFound = !tickets.length && !statuses.isFetching,\n    showList = !!tickets.length\n\n  return (\n    <div className='tickets-list'>\n\n      {showList && (\n        tickets.map(ticket => (\n          <div className='tickets-list__item' key={ticket.id}>\n            <FadeIn initialX={8} duration={.25}>\n              <Ticket ticket={ticket}/>\n            </FadeIn>\n          </div>\n        ))\n      )}\n\n      {showPreloader && (\n        <Loading/>\n      )}\n\n      {showNotFound && (\n        <div className='tickets-list__item'>\n          <TicketsNotFound/>\n        </div>\n      )}\n\n    </div>\n  )\n}\n\nconst Loading: React.FC = () => (\n  <>\n    <div className='tickets-list__item'><TicketLoading/></div>\n    <div className='tickets-list__item'><TicketLoading/></div>\n    <div className='tickets-list__item'><TicketLoading/></div>\n  </>\n)\n\nconst TicketsNotFound: React.FC = () => {\n  const [t] = useTranslation()\n\n  return (\n    <div className='tickets-list-not-found'>\n      {t('tickets.notFound')}\n    </div>\n  )\n}\n\nexport default TicketsList\n","import React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport './Error.scss'\n\nconst Error: React.FC = ({ children }) => {\n  const [t] = useTranslation()\n  return (\n    <div className='error'>\n      <div className=\"error__message\">\n        {t('commonMessages.error')}\n      </div>\n\n      {children && (\n        <div className=\"error__body\">\n          {children}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default Error\n","import React from 'react'\nimport Error from '../components/ui/common/Error'\nimport Button from '../components/ui/forms/Button'\nimport { useTranslation } from 'react-i18next'\n\nexport interface IWithData {\n  fetch: () => any\n  reset: () => any,\n  statuses: IFetchingStatuses\n}\n\nconst withData = <P extends object>(Component: React.ComponentType<P>) =>\n  class WithLoading extends React.Component<P & IWithData> {\n    componentDidMount(): void {\n      this.props.fetch()\n    }\n\n    componentWillUnmount(): void {\n      this.props.reset()\n    }\n\n    render() {\n      const\n        { fetch, reset, statuses, ...props } = this.props,\n        childProps = { statuses, ...props }\n\n      return (\n        <>\n          {statuses.isError ? (\n            <Reload reload={fetch}/>\n          ) : (\n            <Component {...childProps as P} />\n          )}\n        </>\n      )\n    }\n  }\n\ninterface IReloadProps {\n  reload: () => any\n}\n\nconst Reload: React.FC<IReloadProps> = ({ reload }) => {\n  const [t] = useTranslation()\n\n  return (\n    <Error>\n      <Button onClick={reload}>\n        {t('labels.reload')}\n      </Button>\n    </Error>\n  )\n}\n\nexport default withData\n","import { bindActionCreators } from 'redux'\nimport { ThunkDispatch } from 'redux-thunk'\nimport { connect } from 'react-redux'\nimport TicketsList, { IProps } from './TicketsList'\nimport { IState } from '../../../store/root'\nimport { clearFindTickets, fetchTicketsRequest } from '../../../store/findTickets/actions'\nimport { getFetchingStatuses, getFinalTicketList } from '../../../store/findTickets/selectors'\nimport withData, { IWithData } from '../../../hoc/withData'\n\ntype TStateProps = IProps;\ntype TDispatchProps = Pick<IWithData, 'fetch' | 'reset'>\n\nconst mapStateToProps = (state: IState): TStateProps => ({\n  statuses: getFetchingStatuses(state),\n  tickets: getFinalTicketList(state),\n})\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<IState, {}, TAppAnyAction>): TDispatchProps => ({\n  fetch: bindActionCreators(fetchTicketsRequest, dispatch),\n  reset: bindActionCreators(clearFindTickets, dispatch),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withData(TicketsList))\n","import React from 'react'\nimport './ButtonGroup.scss'\n\nconst ButtonGroup: React.FC = ({ children }) => <div className='button-group'>{children}</div>\n\nexport default ButtonGroup\n","import React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport Button from '../../../components/ui/forms/Button'\nimport ButtonGroup from '../../../components/ui/forms/ButtonGroup'\nimport { ETicketsSortBy } from '../../../store/findTickets/reducers'\n\nexport interface IProps {\n  sortBy: TTicketsSortByState,\n  selectSortBy: (count: TTicketsSortByState) => TActionSortBy\n}\n\nconst SortTabs: React.FC<IProps> = ({ sortBy, selectSortBy }) => {\n  const\n    [t] = useTranslation(),\n    sortByPriceIsActive = sortBy === ETicketsSortBy.price,\n    selectSortByPrice = () => !sortByPriceIsActive && selectSortBy(ETicketsSortBy.price),\n    selectSortByDuration = () => sortByPriceIsActive && selectSortBy(ETicketsSortBy.duration)\n\n  return (\n    <ButtonGroup>\n      <Button\n        div\n        type={sortByPriceIsActive ? 'primary' : 'secondary'}\n        size='lg'\n        onClick={selectSortByPrice}\n      >\n        {t(`findTickets.tabs.${ETicketsSortBy.price}`)}\n      </Button>\n\n      <Button\n        div\n        type={!sortByPriceIsActive ? 'primary' : 'secondary'}\n        size='lg'\n        onClick={selectSortByDuration}\n      >\n        {t(`findTickets.tabs.${ETicketsSortBy.duration}`)}\n      </Button>\n    </ButtonGroup>\n  )\n}\n\nexport default SortTabs\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { ThunkDispatch } from 'redux-thunk'\nimport { IState } from '../../../store/root'\nimport { getSortBy } from '../../../store/findTickets/selectors'\nimport SortTabs, { IProps } from './SortTabs'\nimport { sortBy } from '../../../store/findTickets/reducers'\n\ntype TStateProps = Pick<IProps, 'sortBy'>;\ntype TDispatchProps = Pick<IProps, 'selectSortBy'>\n\nconst mapStateToProps = (state: IState): TStateProps => ({\n  sortBy: getSortBy(state)\n})\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<IState, {}, TAppAnyAction>): TDispatchProps => ({\n  selectSortBy: bindActionCreators(sortBy.actions.select, dispatch),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SortTabs)\n","import React from 'react'\nimport './FindTickets.scss'\nimport PlaneLogo from './PlaneLogo'\nimport Layout from '../../components/ui/Layout'\nimport Sidebar from './Sidebar'\nimport TicketsList from './TicketsList'\nimport Tabs from './SortTabs'\n\nconst FindTickets: React.FC = () => (\n  <div className='find-tickets'>\n    <div className='find-tickets__top'>\n      <PlaneLogo/>\n    </div>\n\n    <div className='find-tickets__body'>\n      <Layout Sidebar={\n        Sidebar\n      }>\n        <div className='find-tickets__row'>\n          <Tabs/>\n        </div>\n        <div className='find-tickets__row'>\n          <TicketsList/>\n        </div>\n      </Layout>\n    </div>\n  </div>\n)\n\nexport default FindTickets\n","import React from 'react'\nimport DoNotTouchThis from './pages/DoNotTouchThis'\nimport FindTickets from './pages/FindTickets'\n\nimport { HashRouter as Router, Redirect, Route, Switch } from 'react-router-dom'\n\nconst App: React.FC = () => (\n  <Router>\n    <Switch>\n      <Route exact path='/'>\n        <Redirect to='/find-tickets'/>\n      </Route>\n      <Route exact path='/find-tickets'>\n        <FindTickets/>\n      </Route>\n      <Route exact path='/o-privet'>\n        <DoNotTouchThis/>\n      </Route>\n      <Route path='*'>\n        <Redirect to='/o-privet'/>\n      </Route>\n    </Switch>\n  </Router>\n)\n\nexport default App\n","export const CURRENCIES = {\n  RUB: {\n    name: 'RUB',\n    symbol: 'Р'\n  },\n  USD: {\n    name: 'USD',\n    symbol: '$'\n  }\n}\n\nexport const INITIAL_STATE: ICommonState = {\n  currency: CURRENCIES.RUB,\n  locale: 'ru-RU',\n}\n\nexport const currency =\n  (state: TCurrency = INITIAL_STATE.currency): TCurrency => {\n    return state\n  }\n\nexport const locale =\n  (state: TLocale = INITIAL_STATE.locale): TLocale => {\n    return state\n  }\n","import { combineReducers } from 'redux'\nimport { currency, locale } from './reducers'\n\nexport default combineReducers({\n  currency,\n  locale\n})\n","import { combineReducers } from 'redux'\nimport { pagination, sortBy, statuses, tickets, transfers } from './reducers'\n\nexport default combineReducers({\n  tickets: tickets.reducer,\n  statuses: statuses.reducer,\n  sortBy: sortBy.reducer,\n  pagination: pagination.reducer,\n  filters: combineReducers({\n    transfers: transfers.reducer\n  }),\n})\n","import { call, cancel, fork, put, take } from 'redux-saga/effects'\nimport { clearFindTickets, fetchTicketsRequest, } from './actions'\nimport { fetchTickets, fetchTicketsSearchId } from '../../api/ticketApi'\nimport { getAvailableTransfers } from './helpers'\nimport { arraysAreSame, joinArrays, uniqArrayItems } from '../../helpers/misc'\nimport { statuses, tickets, transfers } from './reducers'\n\nconst\n  ADD_TICKETS_THROTTLE_TIME = 600,\n  getTimestamp = (): number => +new Date()\n\nexport function* pollTickets() {\n  yield put(statuses.actions.setFetching(true))\n\n  const searchId = yield call(fetchTicketsSearchId)\n\n  if (!searchId) {\n    return yield put(statuses.actions.setError(true))\n  }\n\n  let\n    stop = false,\n    availableTransfers: number[] = [],\n    ticketsBuffer: ITicket[] = [],\n    lastTimeTicketsHaveBeenAdded: number = 0\n\n  while (!stop) {\n    const data = yield call(fetchTickets, searchId)\n\n    if (!data) continue\n\n    const newAvailableTransfers = getAvailableTransfers(data.tickets)\n\n    ticketsBuffer.push(...data.tickets)\n    stop = data.stop\n\n    if (!arraysAreSame(availableTransfers, newAvailableTransfers)) {\n      availableTransfers = uniqArrayItems(joinArrays(availableTransfers, newAvailableTransfers)).sort()\n\n      yield put(transfers.actions.setAvailable(availableTransfers))\n    }\n\n    if (\n      !lastTimeTicketsHaveBeenAdded ||\n      getTimestamp() - lastTimeTicketsHaveBeenAdded > ADD_TICKETS_THROTTLE_TIME ||\n      stop\n    ) {\n      yield put(tickets.actions.add(ticketsBuffer))\n      ticketsBuffer = []\n      lastTimeTicketsHaveBeenAdded = getTimestamp()\n    }\n  }\n\n  yield put(statuses.actions.setFetching(false))\n}\n\nexport function* getTickets() {\n  while (true) {\n    yield take(fetchTicketsRequest.type)\n    const poll = yield fork(pollTickets)\n\n    yield take(clearFindTickets)\n    yield cancel(poll)\n  }\n}\n\n","import { combineReducers } from 'redux'\nimport { fork } from 'redux-saga/effects'\nimport common from './common'\nimport findTickets from './findTickets'\nimport { getTickets } from './findTickets/sagas'\n\nexport interface IState {\n  common: ICommonState,\n  findTickets: IFindTicketsState\n}\n\nexport const rootReducer = combineReducers({\n  common,\n  findTickets\n})\n\nexport function* rootSaga() {\n  yield fork(getTickets)\n}\n","import { applyMiddleware, createStore, Middleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport createSagaMiddleware from 'redux-saga'\nimport * as reduxLogger from 'redux-logger'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport { rootReducer, rootSaga } from './root'\n\nconst\n  sagaMiddleware = createSagaMiddleware(),\n  middlewares: Middleware[] = [thunk, sagaMiddleware],\n  isDevMode = process.env.NODE_ENV === 'development'\n\nif (isDevMode) {\n  middlewares.push(reduxLogger.createLogger())\n}\n\nlet enhancer = applyMiddleware(...middlewares)\n\nif (isDevMode) {\n  enhancer = composeWithDevTools(enhancer)\n}\n\nconst store = enhancer(createStore)(rootReducer)\n\nsagaMiddleware.run(rootSaga)\n\nexport default store\n","import { ETicketsSortBy } from '../store/findTickets/reducers'\n\nconst findTickets = {\n  tabs: {\n    [ETicketsSortBy.price]: 'Самый дешевый',\n    [ETicketsSortBy.duration]: 'Самый быстрый',\n  },\n\n  transfers: {\n    title: 'Количество пересадок',\n    all: 'Все',\n    labelZero: 'Без пересадок',\n    label_0: '{{count}} пересадка',\n    label_1: '{{count}} пересадки',\n    label_2: '{{count}} пересадок',\n  },\n}\n\nconst labels = {\n  time: {\n    daysShort: 'д',\n    hoursShort: 'ч',\n    minutesShort: 'м',\n  },\n\n  reload: 'перезагрузить',\n}\n\nconst commonMessages = {\n  error: 'Что то пошло не так',\n}\n\nconst tickets = {\n  duration: 'В пути',\n  notFound: 'По выбранным критериям нет билетов, попробуйте изменить поиск ✈️',\n}\n\nexport default {\n  findTickets,\n  tickets,\n  labels,\n  commonMessages,\n}\n","import i18n from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport ruTranslation from '../translations/ru-RU'\n\nclass TranslationService {\n  init(locale: string) {\n    i18n\n      .use(initReactI18next) // passes i18n down to react-i18next\n      .init({\n        resources: {\n          'ru-RU': {\n            translation: ruTranslation\n          },\n        },\n        lng: locale,\n        fallbackLng: 'ru-RU',\n\n        interpolation: {\n          escapeValue: false\n        }\n      })\n  }\n}\n\nexport default new TranslationService()\n","import 'moment/locale/ru'\nimport moment from 'moment'\n\nclass MomentService {\n  setLocale(locale?: string) {\n    moment.locale(locale)\n  }\n}\n\nexport default new MomentService()\n","import { IState } from './store/root'\nimport translationService from './services/translation'\nimport momentService from './services/moment'\nimport { getLocale } from './store/common/selectors'\n\nconst initLocale = (state: IState) => {\n  const locale = getLocale(state)\n  translationService.init(getLocale(state))\n  momentService.setLocale(locale)\n}\n\nconst init = (state: IState) => {\n  initLocale(state)\n}\n\nexport default init\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n)\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    )\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport './styles/index.scss'\nimport App from './App'\nimport store from './store'\nimport init from './initialize'\nimport * as serviceWorker from './serviceWorker'\n\nconst\n  render = () => {\n    ReactDOM.render(\n      <Provider store={store}>\n        <App/>\n      </Provider>,\n      document.getElementById('root'))\n  }\n\ninit(store.getState())\nstore.subscribe(render)\n\nrender()\n\nserviceWorker.unregister()\n"],"sourceRoot":""}